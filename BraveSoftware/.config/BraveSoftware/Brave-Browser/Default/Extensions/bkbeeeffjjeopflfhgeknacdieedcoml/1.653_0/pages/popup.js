"use strict";(function(){var i=document.getElementById("onoffswitch"),u=document.getElementById("status"),e=document.getElementById("feedbackLink"),o=document.getElementById("privacyLink"),s=document.getElementById("uninstallLink"),h=document.getElementById("learnmoreLink"),c=document.getElementById("reportSiteLink"),n=!0,t=!1,r=!1,f=function(n){n?(u.textContent="On",i.classList.add("on"),i.classList.remove("off")):(u.textContent="Off",i.classList.remove("on"),i.classList.add("off"))};chrome.windows.onFocusChanged.addListener(function(){r&&!t&&chrome.runtime.sendMessage({messageType:Messages.MessageType.POPUP_LAUNCHED});r=!r});i.onclick=function(){n=!n;f(n);Settings.set({isOn:n});t=!0;chrome.runtime.sendMessage({messageType:Messages.MessageType.PROTECTION_TOGGLED,toggleState:n})};e.onclick=function(){t=!0;chrome.runtime.sendMessage({messageType:Messages.MessageType.FEEDBACK_CLICKED})};o.onclick=function(){t=!0;chrome.runtime.sendMessage({messageType:Messages.MessageType.PRIVACY_CLICKED})};s.onclick=function(){t=!0;chrome.runtime.sendMessage({messageType:Messages.MessageType.UNINSTALL_CLICKED})};h.onclick=function(){t=!0;chrome.runtime.sendMessage({messageType:Messages.MessageType.LEARNMORE_CLICKED})};c.onclick=function(){t=!0;chrome.tabs.query({active:!0,currentWindow:!0},function(n){var t=n[0].url;window.open("https://feedback.smartscreen.microsoft.com/feedback.aspx?t=0&url="+t,"_blank")});chrome.runtime.sendMessage({messageType:Messages.MessageType.REPORT_SITE_CLICKED})};document.getElementById("copyright").textContent="Â© "+(new Date).getFullYear()+" Microsoft";document.getElementById("versionNumber").textContent=chrome.runtime.getManifest().version;Settings.get(function(t){n=t.isOn;f(n)})})()