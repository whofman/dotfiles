(self.webpackChunkmomentum_extension=self.webpackChunkmomentum_extension||[]).push([[875,672,568],{8094:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});let n={};const o={bind:function(t,e){let a,o;t.dataset.justBoundClickOutsideHandler=!0,setTimeout((()=>{t.dataset.justBoundClickOutsideHandler=!1}),100);const i=t=>{o=!1,(t=>t&&t.clientX>window.innerWidth)(t)?o=!0:a=t.target},s=n=>{o||(e.modifiers.bubble||!t.contains(a)&&!t.contains(n.target)&&t!==a&&t!==n.target&&"true"!==t.dataset.justBoundClickOutsideHandler)&&e.value(n)};t.dataset.clickOutsideMouseupHandlerId=Math.random().toString(36).substring(7),t.dataset.clickOutsideMousedownHandlerId=Math.random().toString(36).substring(7),n[t.dataset.clickOutsideMouseupHandlerId]=s,n[t.dataset.clickOutsideMousedownHandlerId]=i,document.addEventListener("mouseup",s),document.addEventListener("mousedown",i)},unbind:function(t){document.removeEventListener("mouseup",n[t.dataset.clickOutsideMouseupHandlerId]),document.removeEventListener("mousedown",n[t.dataset.clickOutsideMousedownHandlerId]),delete n[t.dataset.clickOutsideMouseupHandlerId],delete n[t.dataset.clickOutsideMousedownHandlerId],delete t.dataset.clickOutsideMouseupHandlerId,delete t.dataset.clickOutsideMousedownHandlerId,delete t.dataset.justBoundClickOutsideHandler}}},6396:(t,e,a)=>{(t.exports=a(7788)(!1)).push([t.id,"\n.team-focus[data-v-4e61992e] { height: 32px; font-size: 1.125rem;\n}\n.center-col[data-v-4e61992e] { align-items: center;\n}\n\n\t\t/* Shared */\n.view[data-v-4e61992e], .edit[data-v-4e61992e] { display: flex; align-items: baseline;\n}\n.goal-label[data-v-4e61992e], .goal-value[data-v-4e61992e] { border-bottom: 1px solid transparent; text-align: center;\n}\n.goal-label[data-v-4e61992e] { opacity: 0.8; font-size: 0.9375rem; font-weight: 600; text-transform: uppercase;\n}\n.goal-value[data-v-4e61992e] { opacity: 0.9;\n}\n.view .goal-label[data-v-4e61992e], .goal-label-input-wrapper[data-v-4e61992e] { margin-right: 15px;\n}\n.view .empty[data-v-4e61992e] { margin-right: 0;}\n\n\t\t/* View */\n.view[data-v-4e61992e] {\n}\n\n\t\t/* Edit */\n.edit[data-v-4e61992e] {\n}\n.input-wrapper[data-v-4e61992e] { min-width: 2ch; position: relative;\n}\n.input[data-v-4e61992e] { height: 100%; width: 100%; padding: 0; position: absolute; left: 0; z-index: 1; border-bottom-color: white; border-width: 0 0 1px 0; outline: none;\n}\n.input[data-v-4e61992e]::placeholder { opacity: 0.7; color: #fff;\n}\n.hidden[data-v-4e61992e] { visibility: hidden;\n}\n.goal-label-input-wrapper[data-v-4e61992e] { min-width: 84px;\n}\n.input-wrapper .goal-label[data-v-4e61992e] { text-align: center;\n}\n.input-wrapper .goal-label.hidden[data-v-4e61992e] { min-width: 70px;\n}\n.goal-value-input-wrapper[data-v-4e61992e] { min-width: 104px;\n}\n.input-wrapper .goal-value[data-v-4e61992e] { padding-bottom: 1px;\n}\n.input-wrapper .goal-value.hidden[data-v-4e61992e] {\n}\n\n\n\t\t/* Empty */\n.add-button[data-v-4e61992e] { --h-padding: 17px; --v-padding: 6px; position: relative; top: 5px; opacity: 0;\n}\n.focuses:hover .add-button[data-v-4e61992e] { opacity: 1;\n}\n\t\t\t/* TODO: Generalize with intro nav buttons and others */\n.add-button .icon-add[data-v-4e61992e] { height: 11px; margin-left: -1px; margin-right: 7px; opacity: 0.7; fill: white;\n}\n\n\n\t\t/* Dropdown */\n[data-v-4e61992e] .more { margin-left: 10px;\n}\n.team-focus[data-v-4e61992e] .more-toggle {\n}\n.team-focus[data-v-4e61992e] .icon-wrapper:after { height: 25px; width: 25px;\n}\n.team-focus[data-v-4e61992e] .more-icon { height: 15px;\n}\n.team-focus-dropdown-wrapper[data-v-4e61992e] { position: relative; font-size: 1rem;\n}\n.team-focus[data-v-4e61992e] .dash-dropdown { left: -8px; margin-top: 6px;\n}\n.team-focus-dropdown[data-v-4e61992e] ul { min-width: 90px;\n}\n.team-focus-dropdown[data-v-4e61992e] .icon-edit { height: 14px; width: 11px;\n}\n.team-focus-dropdown[data-v-4e61992e] .icon-clear { stroke: var(--icon-color);\n}\n@media screen and (max-height: 600px) {\n.team-focus[data-v-4e61992e] {\n}\n.team-focus .goal-label[data-v-4e61992e] { font-size: 0.8125rem;\n}\n.team-focus .goal-value[data-v-4e61992e] { font-size: 1rem;\n}\n}\n\n",""])},3387:(t,e,a)=>{(t.exports=a(7788)(!1)).push([t.id,"\n.dropdown[data-v-c8d4d4da] { display: block;\n} /* Override general stylesheet dropdown styling for display: block, but move to this when refactor complete; */\n.dropdown-hide[data-v-c8d4d4da] { opacity: 0;\n}\n.dropdown-visible .icon[data-v-c8d4d4da] { opacity: 0.8;}\n.open-enter-active[data-v-c8d4d4da], .open-leave-active[data-v-c8d4d4da] { transition: opacity 0.1s ease;\n} /* Consolidate this with center nav and other animations? */\n.open-enter[data-v-c8d4d4da], .open-leave-to[data-v-c8d4d4da] { opacity: 0;\n}\n\n",""])},7875:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>u});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"team-focus has-dash-icon team-focus-content has-3-col",attrs:{"data-test":"team-focus"}},[a("div",{staticClass:"side-col"}),t._v(" "),a("div",{staticClass:"center-col"},[t.editing?a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.saveAndFinishEditing,expression:"saveAndFinishEditing"}],staticClass:"edit"},[a("span",{staticClass:"input-wrapper goal-label-input-wrapper"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.label,expression:"label"}],ref:"label",staticClass:"input goal-label",attrs:{placeholder:"PERIOD","data-test":"label-edit"},domProps:{value:t.label},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveAndFinishEditing(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.save(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.revert(e)}],input:function(e){e.target.composing||(t.label=e.target.value)}}}),t._v(" "),a("span",{staticClass:"hidden goal-label"},[t._v(t._s(t.label.replace(/ /g," ")||" "))])]),t._v(" "),a("span",{staticClass:"input-wrapper goal-value-input-wrapper"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.goal,expression:"goal"}],ref:"goal",staticClass:"input goal-value",attrs:{placeholder:"TEAM GOAL","data-test":"goal-edit"},domProps:{value:t.goal},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveAndFinishEditing(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.revert(e)}],keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.saveAndFinishEditing(e)},input:function(e){e.target.composing||(t.goal=e.target.value)}}}),t._v(" "),a("span",{staticClass:"hidden goal-value"},[t._v(t._s(t.goal.replace(/ /g," ")||" "))])])]):a("div",[a("transition",{attrs:{name:"fade",mode:"out-in"}},[t.model?a("div",{key:"1",staticClass:"view",on:{dblclick:t.edit}},[a("span",{staticClass:"goal-label",class:{empty:!t.label},attrs:{"data-test":"label"}},[t._v(t._s(t.label))]),t._v(" "),a("span",{staticClass:"goal-value",attrs:{"data-test":"goal"}},[t._v(t._s(t.goal))])]):t.$admin?a("div",{key:"2"},[a("button",{staticClass:"button dash-button add-button",attrs:{"data-test":"add"},on:{click:t.edit}},[a("span",{staticClass:"icon"},[a("svg",{staticClass:"icon-add",attrs:{viewBox:"0 0 448 448",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M408 184H272a8 8 0 0 1-8-8V40c0-22.09-17.91-40-40-40s-40 17.91-40 40v136a8 8 0 0 1-8 8H40c-22.09 0-40 17.91-40 40s17.91 40 40 40h136a8 8 0 0 1 8 8v136c0 22.09 17.91 40 40 40s40-17.91 40-40V272a8 8 0 0 1 8-8h136c22.09 0 40-17.91 40-40s-17.91-40-40-40zm0 0"}})])]),t._v("\n\t\t\t\t\t\tTeam Goal\n\t\t\t\t\t")])]):t._e()])],1)]),t._v(" "),a("div",{staticClass:"side-col"},[t.model&&!t.editing&&t.$admin?a("dropdown",{staticClass:"team-focus-dropdown",attrs:{"show-dropdown":t.showDropdown,"data-test":"dropdown"},on:{"show-dropdown-change":t.changeShowDropdown}},[a("dropdown-option",{staticClass:"team-focus-edit",attrs:{name:"Edit","data-test":"dropdown-edit"},nativeOn:{click:function(e){return t.edit(e)}}},[a("svg",{staticClass:"dropdown-list-icon icon icon-edit",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M15.067 3.986a.5.5 0 0 0-.708-.001L3.437 14.91a.5.5 0 0 0 0 .707l4.948 4.948a.5.5 0 0 0 .707 0L20.009 9.648a.5.5 0 0 0 0-.706l-4.942-4.956zM2.43 16.8a.5.5 0 0 0-.84.237L.084 23.314a.501.501 0 0 0 .603.602l6.272-1.5a.5.5 0 0 0 .237-.84L2.43 16.8zM23.2 2.924L21.077.8a2.5 2.5 0 0 0-3.532 0l-1.418 1.417a.5.5 0 0 0 0 .707l4.95 4.949a.5.5 0 0 0 .707 0L23.2 6.454a2.5 2.5 0 0 0 0-3.53z"}})])]),t._v(" "),a("dropdown-option",{staticClass:"team-focus-clear",attrs:{name:"Clear","data-test":"dropdown-clear"},nativeOn:{click:function(e){return t.clear(e)}}},[a("svg",{staticClass:"dropdown-list-icon icon icon-clear",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 39 39"}},[a("g",{attrs:{transform:"translate(-1)",fill:"none","fill-rule":"evenodd"}},[a("rect",{attrs:{"stroke-width":"3",transform:"rotate(45 17.5 23)",x:"14.5",y:"5.5",width:"6",height:"35",rx:"2"}}),a("path",{attrs:{d:"M7 34l14.5-14.5","stroke-width":"3.8","stroke-linecap":"square"}}),a("path",{attrs:{d:"M31.5.7V6M33.886 4.812l-4.772-2.625M29.114 4.812l4.772-2.625M37.2 15.2v5.3M39.548 19.117l-4.773-2.625M34.775 19.117l4.773-2.625","stroke-linecap":"round","stroke-linejoin":"round"}}),a("path",{attrs:{d:"M19.5 4.42V7.6M20.932 6.887l-2.864-1.575M18.068 6.887l2.864-1.575","stroke-width":".8","stroke-linecap":"round","stroke-linejoin":"round"}})])])])],1):t._e()],1)])};n._withStripped=!0;var o=a(9385),i=a(2672),s=a(8094);const d=Backbone.Model.extend({defaults:{title:"",createdDate:m.date(),updatedDate:m.now(),label:"",active:!1,serverSetId:!1},initialize:function(){this.idAttribute=this.collection.idAttribute||"csid"}}),l=m.collect.SyncedCollection.extend({initialize:function(t,e){this.model=d,(e=e||{}).name="teamFocus",e.serverIdAttribute="focusUuid",e.model=this.model,e.transientProps=["createdDate"],e.apiUrl=m.globals.urlRootApi+"team/focus",m.collect.SyncedCollection.prototype.initialize.call(this,t,e)}});var r=a(1940);const c={name:"TeamFocus",components:{Dropdown:o.default,DropdownOption:i.default},directives:{ClickOutside:s.Z},mixins:[r.Z],bb:()=>({collection:new l}),data:()=>({showDropdown:!1,goal:"",label:"",editing:!1}),computed:{model(){return this.collection.length?this.collection.find((t=>t.active)):null}},watch:{model(){this.model&&(this.goal=this.model.title,this.label=this.model.label)}},created(){this.collection.fetch({reset:!0}),this.model&&(this.goal=this.model.title,this.label=this.model.label)},methods:{changeShowDropdown(t){this.showDropdown=t},edit(){this.$admin&&(this.editing=!0,this.showDropdown=!1,this.$nextTick((()=>{this.$refs.goal.focus()})))},saveAndFinishEditing(){this.save(),this.editing=!1},save(t){t&&(t.preventDefault(),t.stopPropagation());const e=this.goal.trim(),a=this.label.trim();e?(this.model?this.model.save({label:a,title:e}):this.collection.create({label:a,title:e,active:!0}),this.showDropdown=!1):this.$refs.goal.focus()},clear(){this.showDropdown=!1,this.goal="",this.label="",this.model.active=!1},revert(){this.model?(this.goal=this.model.title,this.label=this.model.label,this.editing=!1):this.editing=!1}}};a(3553);var p=(0,a(1900).Z)(c,n,[],!1,null,"4e61992e",null);p.options.__file="source/addins-vue/focus/team-focus/TeamFocus.vue";const u=p.exports},9385:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideDropdown,expression:"hideDropdown"}],staticClass:"more more-dash",class:{"shift-to-left":t.shiftToLeft,"dropdown-visible":t.showDropdown},attrs:{"data-test":"more-container"}},[a("div",{staticClass:"icon-wrapper dash-icon-wrapper more-toggle",attrs:{"data-test":"more-toggle","data-ob":t.dataOb},on:{click:function(e){return t.$emit("show-dropdown-change",!t.showDropdown)}}},[a("svg",{staticClass:"icon icon-ellipsis dash-icon more-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 60 60"}},[a("path",{attrs:{d:"M8 22c-4.411 0-8 3.589-8 8s3.589 8 8 8 8-3.589 8-8-3.589-8-8-8zM52 22c-4.411 0-8 3.589-8 8s3.589 8 8 8 8-3.589 8-8-3.589-8-8-8zM30 22c-4.411 0-8 3.589-8 8s3.589 8 8 8 8-3.589 8-8-3.589-8-8-8z"}})])]),t._v(" "),a("transition",{attrs:{name:"open"}},[t.showDropdown?a("div",{ref:"dropdown",staticClass:"app dropdown more-dropdown dash-dropdown nipple nipple-top-left"},[t._t("header"),t._v(" "),t._t("upsell"),t._v(" "),a("ul",{staticClass:"dropdown-list",class:{"dropdown-hide":t.$slots.upsell},attrs:{"data-test":"dropdown-options"}},[t._t("default")],2)],2):t._e()])],1)};n._withStripped=!0;const o={doNotWaitForMount:!0,name:"Dropdown",directives:{ClickOutside:a(8094).Z},props:{dataOb:{type:String,default:""},showDropdown:{type:Boolean,default:!1}},data:()=>({shiftToLeft:!1}),watch:{showDropdown(t){t?(this.shiftToLeft=!1,this.$nextTick(this.shiftDropdownLeftIfNeeded),window.addEventListener("resize",this.debouncedDropdownShift)):window.removeEventListener("resize",this.debouncedDropdownShift)}},created(){this.$e.listenTo(m,"globalEvent:esc",this.hideDropdown),this.$e.listenTo(m,"globalEvent:toggle:bottom-right",this.hideDropdown)},destroyed(){this.$e.stopListening(m,"globalEvent:esc",this.hideDropdown),this.$e.stopListening(m,"globalEvent:toggle:bottom-right",this.hideDropdown),window.removeEventListener("resize",this.shouldDropdownShiftToLeft)},methods:{hideDropdown(){this.showDropdown&&this.$emit("show-dropdown-change",!1)},shiftDropdownLeftIfNeeded(){const t=this.$refs.dropdown&&this.$refs.dropdown.getBoundingClientRect();if(!t)return;const e=window.innerWidth-t.right;this.shiftToLeft=!(e>=135)},debouncedDropdownShift(){clearTimeout(this.debounce),this.debounce=setTimeout((()=>{this.shiftToLeft=!1,this.$nextTick(this.shiftDropdownLeftIfNeeded)}),200)}}};a(7549);var i=(0,a(1900).Z)(o,n,[],!1,null,"c8d4d4da",null);i.options.__file="source/addins-vue/shared_components/Dropdown.vue";const s=i.exports},2672:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{class:{"has-descrption":t.description}},[a("div",{staticClass:"dropdown-list-label-wrapper",attrs:{"data-test":"drop-down-wrapper"}},[t.$slots.default?a("span",{staticClass:"dropdown-list-icon-wrapper"},[t._t("default")],2):t._e(),t._v(" "),a("span",{staticClass:"dropdown-list-label",attrs:{"data-test":"name"}},[t._v(t._s(t.name))]),t.isPlus&&!this.$plus?a("span",{staticClass:"badge badge-plus",attrs:{"data-test":"beta"}},[t._v("Plus")]):t._e()]),t._v(" "),t.description?a("div",{staticClass:"dropdown-list-description",attrs:{"data-test":"description"}},[t._v(t._s(t.description))]):t._e()])};n._withStripped=!0;const o={name:"DropdownOption",doNotWaitForMount:!0,props:{name:{type:String,default:""},isPlus:{type:Boolean,default:!1},description:{type:String,default:""}}};var i=(0,a(1900).Z)(o,n,[],!1,null,null,null);i.options.__file="source/addins-vue/shared_components/DropdownOption.vue";const s=i.exports},3553:(t,e,a)=>{var n=a(6396);"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals),(0,a(1372).Z)("27333f2c",n,!1,{ssrId:!0})},7549:(t,e,a)=>{var n=a(3387);"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals),(0,a(1372).Z)("569c9fee",n,!1,{ssrId:!0})}}]);