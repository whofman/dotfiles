(self.webpackChunkmomentum_extension=self.webpackChunkmomentum_extension||[]).push([[729,672,568],{8094:(t,e,s)=>{"use strict";s.d(e,{Z:()=>a});let o={};const a={bind:function(t,e){let s,a;t.dataset.justBoundClickOutsideHandler=!0,setTimeout((()=>{t.dataset.justBoundClickOutsideHandler=!1}),100);const n=t=>{a=!1,(t=>t&&t.clientX>window.innerWidth)(t)?a=!0:s=t.target},i=o=>{a||(e.modifiers.bubble||!t.contains(s)&&!t.contains(o.target)&&t!==s&&t!==o.target&&"true"!==t.dataset.justBoundClickOutsideHandler)&&e.value(o)};t.dataset.clickOutsideMouseupHandlerId=Math.random().toString(36).substring(7),t.dataset.clickOutsideMousedownHandlerId=Math.random().toString(36).substring(7),o[t.dataset.clickOutsideMouseupHandlerId]=i,o[t.dataset.clickOutsideMousedownHandlerId]=n,document.addEventListener("mouseup",i),document.addEventListener("mousedown",n)},unbind:function(t){document.removeEventListener("mouseup",o[t.dataset.clickOutsideMouseupHandlerId]),document.removeEventListener("mousedown",o[t.dataset.clickOutsideMousedownHandlerId]),delete o[t.dataset.clickOutsideMouseupHandlerId],delete o[t.dataset.clickOutsideMousedownHandlerId],delete t.dataset.clickOutsideMouseupHandlerId,delete t.dataset.clickOutsideMousedownHandlerId,delete t.dataset.justBoundClickOutsideHandler}}},1721:(t,e,s)=>{(t.exports=s(7788)(!1)).push([t.id,"\n.fade-fast-enter[data-v-62829ff2], .fade-fast-leave-to[data-v-62829ff2] { opacity: 0 !important;\n} /* Make transition work for .stats-value class â€”> temporary */\n.stats[data-v-62829ff2] { margin-bottom: 4px; padding: 8px calc(var(--app-padding) - 6px); background: var(--app-overlay-bg); border-radius: 1px 1px 0 0; cursor: pointer;\n}\n.stats-heading[data-v-62829ff2] { margin: 1px 0 7px; font-size: 0.875rem; font-weight: 600;\n}\n.stats-icon[data-v-62829ff2] { height: 7px; opacity: 0.45; fill: var(--icon-color); vertical-align: 4%;\n}\n.stats:hover .stats-icon[data-v-62829ff2] { opacity: 0.7;\n}\n.stats:hover:active .stats-icon[data-v-62829ff2] { opacity: 1;\n}\n.stats-row[data-v-62829ff2] { display: flex; justify-content: space-between;\n}\n.stats-item[data-v-62829ff2] { min-width: max-content; width: 48%; margin-top: -2px; margin-right: 12px;\n}\n.stats-label[data-v-62829ff2] { margin-bottom: 2px; opacity: 0.7; font-size: 13px;\n}\n.stats-value[data-v-62829ff2] { opacity: 0.9; font-size: 1.0625rem; letter-spacing: -0.3px;\n}\n\n/* Override dropdown component classes */\n[data-v-62829ff2] .dropdown { --padding: calc(var(--app-padding) - 6px); width: 200px; margin-top: 1px; top: 38px; z-index: 2;\n}\n[data-v-62829ff2] .dropdown-list .has-input { justify-content: space-between;\n}\n[data-v-62829ff2] .dropdown-list .has-input input { width: 3.1ch; margin: -2px 0; padding: 0 3px 2px; text-align: right;\n}\n[data-v-62829ff2] .dropdown-list-input-unit { margin-left: 4px; opacity: 0.75; font-size: 0.8125rem;\n}\n[data-v-62829ff2] .dropdown-list li {\n}\n[data-v-62829ff2] .dropdown-list li.disabled { opacity: 0.5; pointer-events: none;\n}\n[data-v-62829ff2] .dropdown-list .toggle-slider { margin-top: 0; margin-bottom: 0;\n}\n\n/* Hide silly up/down controls on input type=number */\n.hide-controls[data-v-62829ff2]::-webkit-outer-spin-button, .hide-controls[data-v-62829ff2]::-webkit-inner-spin-button { -webkit-appearance: none;\n}\ninput[type=number].hide-controls[data-v-62829ff2] { -moz-appearance: textfield;\n}\n\n",""])},3387:(t,e,s)=>{(t.exports=s(7788)(!1)).push([t.id,"\n.dropdown[data-v-c8d4d4da] { display: block;\n} /* Override general stylesheet dropdown styling for display: block, but move to this when refactor complete; */\n.dropdown-hide[data-v-c8d4d4da] { opacity: 0;\n}\n.dropdown-visible .icon[data-v-c8d4d4da] { opacity: 0.8;}\n.open-enter-active[data-v-c8d4d4da], .open-leave-active[data-v-c8d4d4da] { transition: opacity 0.1s ease;\n} /* Consolidate this with center nav and other animations? */\n.open-enter[data-v-c8d4d4da], .open-leave-to[data-v-c8d4d4da] { opacity: 0;\n}\n\n",""])},7729:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>r});var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("dropdown",{attrs:{"show-dropdown":t.showDropdown},on:{"show-dropdown-change":t.changeShowDropdown}},[s("div",{staticClass:"stats",on:{click:t.cycleTroughPeriods}},[s("div",[s("div",{staticClass:"stats-heading"},[t._v("\n\t\t\t\tCompleted\n\t\t\t\t"),s("transition",{attrs:{mode:"out-in",name:"fade-fast"}},[s("span",{key:t.period},[t._v("\n\t\t\t\t\t\t"+t._s(t.completedStatsPeriod)+"\n\t\t\t\t\t\t"),s("svg",{staticClass:"stats-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 123.958 123.959"}},[s("path",{attrs:{d:"M38.217 1.779c-3.8-3.8-10.2-1.1-10.2 4.2v112c0 5.3 6.4 8 10.2 4.2l56-56c2.3-2.301 2.3-6.101 0-8.401l-56-55.999z"}})])])])],1),t._v(" "),s("div",{staticClass:"stats-row"},[s("div",{staticClass:"stats-item"},[s("div",{staticClass:"stats-label"},[t._v("Timers")]),t._v(" "),s("transition",{attrs:{mode:"out-in",name:"fade-fast"}},[s("div",{key:t.period,staticClass:"stats-value",attrs:{"data-test":"completed-count"}},[t._v(t._s(t.completedCounts))])])],1),t._v(" "),s("div",{staticClass:"stats-item"},[s("div",{staticClass:"stats-label"},[t._v("Focused")]),t._v(" "),s("transition",{attrs:{mode:"out-in",name:"fade-fast"}},[s("div",{key:t.period,staticClass:"stats-value",attrs:{"data-test":"completed-time"}},[t._v(t._s(t.completedFocusedTime))])])],1)])])]),t._v(" "),s("dropdown-option",{attrs:{name:"Complete Timer","data-test":"complete-timer"},nativeOn:{click:function(e){return t.completeTimer(e)}}}),t._v(" "),s("li",{staticClass:"line"}),t._v(" "),s("li",{staticClass:"has-input",on:{click:function(e){return t.focusRef("focusDurationInput")}}},[s("span",{staticClass:"dropdown-list-label"},[t._v("Focus")]),t._v(" "),s("span",{staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.focusDuration,expression:"focusDuration"}],ref:"focusDurationInput",staticClass:"hide-controls",attrs:{type:"number",name:"focusDuration",min:"1","data-test":"focus-input"},domProps:{value:t.focusDuration},on:{blur:function(e){return t.resetDurationIfNeeded("focus")},input:function(e){e.target.composing||(t.focusDuration=e.target.value)}}}),s("span",{staticClass:"dropdown-list-input-unit"},[t._v("min")])])]),t._v(" "),s("li",{staticClass:"has-input",on:{click:function(e){return t.focusRef("restDurationInput")}}},[s("span",{staticClass:"dropdown-list-label"},[t._v("Break")]),t._v(" "),s("span",{staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.restDuration,expression:"restDuration"}],ref:"restDurationInput",staticClass:"hide-controls",attrs:{type:"number",name:"restDuration",min:"1","data-test":"rest-input"},domProps:{value:t.restDuration},on:{blur:function(e){return t.resetDurationIfNeeded("rest")},input:function(e){e.target.composing||(t.restDuration=e.target.value)}}}),s("span",{staticClass:"dropdown-list-input-unit"},[t._v("min")])])]),t._v(" "),s("li",{staticClass:"line"}),t._v(" "),s("li",{staticClass:"has-toggle",class:{on:t.autoplay},attrs:{title:"Auto-start break timer after completing focus timer.","data-test":"auto-play"},on:{click:function(e){return t.updateSetting("autoplay",!t.autoplay)}}},[s("span",{staticClass:"dropdown-list-label"},[t._v("Autoplay")]),t._v(" "),s("span",{staticClass:"toggle-slider"},[s("svg",{staticClass:"toggle-switch",attrs:{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"}},[s("circle",{attrs:{cx:"50",cy:"50",r:"50"}})])])]),t._v(" "),s("li",{staticClass:"has-toggle",class:{on:t.hideSeconds},attrs:{title:"Hide the seconds count for a calmer timer experience.","data-test":"calm-timer"},on:{click:function(e){return t.updateSetting("hideSeconds",!t.hideSeconds)}}},[s("span",{staticClass:"dropdown-list-label"},[t._v("Calm timer")]),t._v(" "),s("span",{staticClass:"toggle-slider"},[s("svg",{staticClass:"toggle-switch",attrs:{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"}},[s("circle",{attrs:{cx:"50",cy:"50",r:"50"}})])])]),t._v(" "),s("li",{staticClass:"line"}),t._v(" "),s("dropdown-option",{attrs:{name:"How-to","data-test":"help"},nativeOn:{click:function(e){return t.openHelp(e)}}}),t._v(" "),s("dropdown-option",{attrs:{name:"Feedback","data-test":"feedback-toggle"},nativeOn:{click:function(e){return t.openFeedback(e)}}})],1)};o._withStripped=!0;var a=s(9385),n=s(2672);const i={name:"PomodoroDropdown",doNotWaitForMount:!0,components:{Dropdown:a.default,DropdownOption:n.default},props:{timers:{type:Object,default:()=>({})},autoplay:{type:Boolean,default:!1},hideSeconds:{type:Boolean,default:!1},completedStats:{type:Object,default:()=>({})}},data(){return{showDropdown:!1,restDuration:this.timers.rest.minutes,originalRestDuration:this.timers.rest.minutes,focusDuration:this.timers.focus.minutes,originalFocusDuration:this.timers.focus.minutes,period:"today"}},computed:{completedStatsPeriod(){return this.periods[this.period]},completedCounts(){return this.completedStats.counts?this.completedStats.counts[this.period]:0},completedFocusedTime(){const t=this.completedStats.focusedMinutes&&this.completedStats.focusedMinutes[this.period];if(!t)return"0m";let e=Math.trunc(t/60);const s=Math.trunc(e/24);let o=t;return s>=1?(e-=24*s,o=t-24*s*60-60*e):e>=1&&(o=t-60*e),o%1!=0&&(o=o.toFixed(2)),`${s?s+"d":""} ${e?e+"h":""} ${o?o+"m":""}`}},watch:{restDuration(t){this.validateTimerDuration(t,"rest")},focusDuration(t){this.validateTimerDuration(t,"focus")}},created(){this.periods={today:"Today",week:"This Week",allTime:"All Time"}},methods:{updateSetting(t,e){this.$emit("update:"+t,e)},changeShowDropdown(t){this.showDropdown=t},close(){this.showDropdown=!1},openHelp(){m.sendEvent("Pomodoro","Help"),window.open("https://get.momentumdash.help/hc/en-us/articles/360045590813-Pomodoro-Timer")},openFeedback(){m.sendEvent("Pomodoro","Feedback");const t={type:"Pomodoro",email:localStorage.getItem("email")||"",name:m.models.customization.get("displayname")};let e=encodeURIComponent(t.email);window.open(`https://momentumdash.com/contact?type=${t.type}&name=${t.name}&email=${e}`)},resetDurationIfNeeded(t){const e=t+"Duration",s=`original${utils.capitalizeFirstLetter(t)}Duration`;this[e]?this[s]=this[e]:this[e]=this[s]},validateTimerDuration(t,e){const s=e+"Duration";t&&""!==t&&t<=0&&(this[s]=1),t&&""!==t&&this.$emit("update:timer",e,this[s])},cycleTroughPeriods(){const t=Object.keys(this.periods),e=t.findIndex((t=>t===this.period)),s=2===e?0:e+1;this.period=t[s],m.sendEvent("Pomodoro","Cycle stats")},focusRef(t){this.$refs[t]&&this.$refs[t].focus()},completeTimer(){this.$emit("complete-timer")}}};s(1044);var d=(0,s(1900).Z)(i,o,[],!1,null,"62829ff2",null);d.options.__file="source/addins-vue/pomodoro/components/Dropdown.vue";const r=d.exports},9385:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>i});var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideDropdown,expression:"hideDropdown"}],staticClass:"more more-dash",class:{"shift-to-left":t.shiftToLeft,"dropdown-visible":t.showDropdown},attrs:{"data-test":"more-container"}},[s("div",{staticClass:"icon-wrapper dash-icon-wrapper more-toggle",attrs:{"data-test":"more-toggle","data-ob":t.dataOb},on:{click:function(e){return t.$emit("show-dropdown-change",!t.showDropdown)}}},[s("svg",{staticClass:"icon icon-ellipsis dash-icon more-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 60 60"}},[s("path",{attrs:{d:"M8 22c-4.411 0-8 3.589-8 8s3.589 8 8 8 8-3.589 8-8-3.589-8-8-8zM52 22c-4.411 0-8 3.589-8 8s3.589 8 8 8 8-3.589 8-8-3.589-8-8-8zM30 22c-4.411 0-8 3.589-8 8s3.589 8 8 8 8-3.589 8-8-3.589-8-8-8z"}})])]),t._v(" "),s("transition",{attrs:{name:"open"}},[t.showDropdown?s("div",{ref:"dropdown",staticClass:"app dropdown more-dropdown dash-dropdown nipple nipple-top-left"},[t._t("header"),t._v(" "),t._t("upsell"),t._v(" "),s("ul",{staticClass:"dropdown-list",class:{"dropdown-hide":t.$slots.upsell},attrs:{"data-test":"dropdown-options"}},[t._t("default")],2)],2):t._e()])],1)};o._withStripped=!0;const a={doNotWaitForMount:!0,name:"Dropdown",directives:{ClickOutside:s(8094).Z},props:{dataOb:{type:String,default:""},showDropdown:{type:Boolean,default:!1}},data:()=>({shiftToLeft:!1}),watch:{showDropdown(t){t?(this.shiftToLeft=!1,this.$nextTick(this.shiftDropdownLeftIfNeeded),window.addEventListener("resize",this.debouncedDropdownShift)):window.removeEventListener("resize",this.debouncedDropdownShift)}},created(){this.$e.listenTo(m,"globalEvent:esc",this.hideDropdown),this.$e.listenTo(m,"globalEvent:toggle:bottom-right",this.hideDropdown)},destroyed(){this.$e.stopListening(m,"globalEvent:esc",this.hideDropdown),this.$e.stopListening(m,"globalEvent:toggle:bottom-right",this.hideDropdown),window.removeEventListener("resize",this.shouldDropdownShiftToLeft)},methods:{hideDropdown(){this.showDropdown&&this.$emit("show-dropdown-change",!1)},shiftDropdownLeftIfNeeded(){const t=this.$refs.dropdown&&this.$refs.dropdown.getBoundingClientRect();if(!t)return;const e=window.innerWidth-t.right;this.shiftToLeft=!(e>=135)},debouncedDropdownShift(){clearTimeout(this.debounce),this.debounce=setTimeout((()=>{this.shiftToLeft=!1,this.$nextTick(this.shiftDropdownLeftIfNeeded)}),200)}}};s(7549);var n=(0,s(1900).Z)(a,o,[],!1,null,"c8d4d4da",null);n.options.__file="source/addins-vue/shared_components/Dropdown.vue";const i=n.exports},2672:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>i});var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{class:{"has-descrption":t.description}},[s("div",{staticClass:"dropdown-list-label-wrapper",attrs:{"data-test":"drop-down-wrapper"}},[t.$slots.default?s("span",{staticClass:"dropdown-list-icon-wrapper"},[t._t("default")],2):t._e(),t._v(" "),s("span",{staticClass:"dropdown-list-label",attrs:{"data-test":"name"}},[t._v(t._s(t.name))]),t.isPlus&&!this.$plus?s("span",{staticClass:"badge badge-plus",attrs:{"data-test":"beta"}},[t._v("Plus")]):t._e()]),t._v(" "),t.description?s("div",{staticClass:"dropdown-list-description",attrs:{"data-test":"description"}},[t._v(t._s(t.description))]):t._e()])};o._withStripped=!0;const a={name:"DropdownOption",doNotWaitForMount:!0,props:{name:{type:String,default:""},isPlus:{type:Boolean,default:!1},description:{type:String,default:""}}};var n=(0,s(1900).Z)(a,o,[],!1,null,null,null);n.options.__file="source/addins-vue/shared_components/DropdownOption.vue";const i=n.exports},1044:(t,e,s)=>{var o=s(1721);"string"==typeof o&&(o=[[t.id,o,""]]),o.locals&&(t.exports=o.locals),(0,s(1372).Z)("54905e5d",o,!1,{ssrId:!0})},7549:(t,e,s)=>{var o=s(3387);"string"==typeof o&&(o=[[t.id,o,""]]),o.locals&&(t.exports=o.locals),(0,s(1372).Z)("569c9fee",o,!1,{ssrId:!0})}}]);