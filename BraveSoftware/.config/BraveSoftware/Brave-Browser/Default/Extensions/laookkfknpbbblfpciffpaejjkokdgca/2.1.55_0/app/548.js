(self.webpackChunkmomentum_extension=self.webpackChunkmomentum_extension||[]).push([[548],{7788:t=>{"use strict";t.exports=function(t){var a=[];return a.toString=function(){return this.map((function(a){var e=function(t,a){var e,i=t[1]||"",n=t[3];if(!n)return i;if(a&&"function"==typeof btoa){var s=(e=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"),o=n.sources.map((function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"}));return[i].concat(o).concat([s]).join("\n")}return[i].join("\n")}(a,t);return a[2]?"@media "+a[2]+"{"+e+"}":e})).join("")},a.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},n=0;n<this.length;n++){var s=this[n][0];null!=s&&(i[s]=!0)}for(n=0;n<t.length;n++){var o=t[n];null!=o[0]&&i[o[0]]||(e&&!o[2]?o[2]=e:e&&(o[2]="("+o[2]+") and ("+e+")"),a.push(o))}},a}},8548:(t,a,e)=>{"use strict";e.r(a);var i=e(4525),n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{ref:"topics",staticClass:"topics app-container show-anyway",attrs:{id:"topics","data-test":"topics"}},[e("div",{staticClass:"app-dash app-dash-icon add-shadow toggle topics-toggle",attrs:{"data-test":"topics-app-dash"},on:{click:t.toggleApp}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"}},[e("g",{attrs:{transform:"translate(-1)","fill-rule":"nonzero"}},[e("path",{attrs:{d:"M3.578 2.586a.299.299 0 0 0-.078.224v20.903a.28.28 0 0 0 .077.2.273.273 0 0 0 .173.087h2.976a.28.28 0 0 0 .197-.086c.052-.054.08-.127.077-.234V2.785a.28.28 0 0 0-.078-.2.273.273 0 0 0-.172-.085H3.767a.28.28 0 0 0-.19.086zM3.726 0h3.048A2.78 2.78 0 0 1 9.5 2.81v20.837A2.78 2.78 0 0 1 6.75 26.5H3.726a2.78 2.78 0 0 1-1.957-.86A2.76 2.76 0 0 1 1 23.68V2.835A2.78 2.78 0 0 1 3.726 0zM13.578 9.59c-.053.057-.081.132-.078.25v13.861a.29.29 0 0 0 .078.209.285.285 0 0 0 .172.09h2.968a.29.29 0 0 0 .204-.09c.053-.057.081-.132.078-.25V9.799a.29.29 0 0 0-.078-.209.285.285 0 0 0-.172-.09h-2.978a.29.29 0 0 0-.194.09zm.14-2.59h3.064a2.79 2.79 0 0 1 1.958.875c.51.54.784 1.263.76 1.965v13.779a2.79 2.79 0 0 1-.76 2.006c-.51.54-1.215.856-1.99.875h-3.032a2.79 2.79 0 0 1-1.958-.875A2.764 2.764 0 0 1 11 23.66V9.881a2.79 2.79 0 0 1 2.718-2.88zM31.473 22.6a2.84 2.84 0 0 1-.403 2.15 2.865 2.865 0 0 1-1.86 1.234l-2.976.482a2.76 2.76 0 0 1-2.07-.528 2.737 2.737 0 0 1-1.068-1.811L20.02 4.851a2.834 2.834 0 0 1 2.258-3.281l2.978-.536a2.75 2.75 0 0 1 3.131 2.357l3.086 19.208zM25.916 3.767c-.015-.112-.05-.173-.103-.213a.253.253 0 0 0-.151-.055l-2.92.526c-.177.035-.294.205-.258.407L25.57 23.77a.26.26 0 0 0 .1.174c.056.042.127.06.18.052l2.912-.471a.34.34 0 0 0 .217-.147c.05-.076.067-.169.037-.32l-3.1-19.29z"}}),e("rect",{attrs:{x:"1.05",y:"28.75",width:"30.5",height:"2.5",rx:"1.25"}})])]),t._v(" "),e("span",{staticClass:"app-dash-icon-label"},[t._v("Topics")])]),t._v(" "),e("transition",{attrs:{name:"swipe-left"}},[t.containerOpen?e("div",{staticClass:"app app-topics",attrs:{id:"topics-app","data-test":"topics-container"}},[e("header",[e("h2",[t._v("Topics")]),t._v(" "),t.isAdmin?e("a",{staticClass:"button button-edit",attrs:{target:"_blank"},on:{click:function(a){return t.editInAccountSite()}}},[e("svg",{staticClass:"edit-icon",attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 528.899 528.899","xml:space":"preserve"}},[e("path",{attrs:{d:"M328.883,89.125l107.59,107.589l-272.34,272.34L56.604,361.465L328.883,89.125z M518.113,63.177l-47.981-47.981\n\t\t\t\t\t\t\t\tc-18.543-18.543-48.653-18.543-67.259,0l-45.961,45.961l107.59,107.59l53.611-53.611\n\t\t\t\t\t\t\t\tC532.495,100.753,532.495,77.559,518.113,63.177z M0.3,512.69c-1.958,8.812,5.998,16.708,14.811,14.565l119.891-29.069\n\t\t\t\t\t\t\t\tL27.473,390.597L0.3,512.69z"}})]),t._v(" "),e("span",{staticClass:"edit-label"},[t._v("Edit")])]):t._e(),t._v(" "),e("div",{staticClass:"spacer"}),t._v(" "),e("div",{staticClass:"icon-wrapper back",attrs:{"data-test":"close"},on:{click:function(a){return a.stopPropagation(),t.toggleApp(a)}}},[e("svg",{staticClass:"icon icon-hide",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 212.982 212.982"}},[e("path",{attrs:{d:"M131.804 106.491l75.936-75.936c6.99-6.99 6.99-18.323 0-25.312-6.99-6.99-18.322-6.99-25.312 0L106.491 81.18 30.554 5.242c-6.99-6.99-18.322-6.99-25.312 0-6.989 6.99-6.989 18.323 0 25.312l75.937 75.936-75.937 75.937c-6.989 6.99-6.989 18.323 0 25.312 6.99 6.99 18.322 6.99 25.312 0l75.937-75.937 75.937 75.937c6.989 6.99 18.322 6.99 25.312 0 6.99-6.99 6.99-18.322 0-25.312l-75.936-75.936z"}})])])]),t._v(" "),e("section",{staticClass:"topics-main"},[e("div",{staticClass:"spacer spacer-top"}),t._v(" "),t.isEmpty?t._e():e("ul",{staticClass:"categories",class:t.categoryCount,attrs:{"data-test":"categories"}},t._l(t.topicData,(function(a,i){return e("li",{key:i,staticClass:"category"},[e("div",{staticClass:"category-header"},[a.iconUrl?e("img",{staticClass:"category-icon",attrs:{src:a.iconUrl}}):t._e(),t._v(" "),e("div",{staticClass:"category-title"},[t._v(t._s(a.title))])]),t._v(" "),e("ul",{staticClass:"topics",attrs:{"data-test":"topics-list"}},t._l(a.topics,(function(a,i){return e("li",{key:i,staticClass:"topic",attrs:{"data-test":"topic"}},[t.isUrlLocalFileLink(a.url)?e("a",{key:"i",staticClass:"u--pointer",attrs:{title:a.url},on:{click:function(e){return t.newTabForFileLink(a.url)}}},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(a.title)+"\n\t\t\t\t\t\t\t\t")]):e("a",{key:"i",attrs:{href:a.url}},[t._v(t._s(a.title))])])})),0)])})),0),t._v(" "),t.isLoading?e("section",{staticClass:"empty-state"},[e("span",{staticClass:"empty-message"},[t._v("Loading...")])]):t._e(),t._v(" "),t.isEmpty?e("section",{staticClass:"empty-state"},[e("span",{staticClass:"empty-message"},[t._v("Your team hasn't added any topics yet.")])]):t._e(),t._v(" "),e("div",{staticClass:"spacer spacer-bot"})])]):t._e()])],1)};n._withStripped=!0;const s=new(e(1238).Z.extend({name:"TopicDataManager",data:()=>({rawData:{},topicData:[],loaded:!1}),localStorageKey:"topic_data",created(){this.rawData=localStorage.getObject("topics"),this.rawData&&(this.$set(this,"topicData",this.buildHierarchy(this.rawData)),this.loaded=!0),this.getData().then((t=>{this.rawData=t,localStorage.setObject("topics",this.rawData),this.$set(this,"topicData",this.buildHierarchy(this.rawData)),this.loaded=!0}))},methods:{getData:()=>new Promise(((t,a)=>{$.ajax({url:m.globals.urlRootApi+"team/topics",success:a=>{t(a)},error:t=>{a(t)}})})),sort:(t,a)=>t.order-a.order,buildHierarchy(t){let a=[];return t&&t.categories&&t.categories.forEach((t=>{t.topics=[],a.push(t)})),t&&t.topics&&t.topics.forEach((t=>{a.filter((a=>a.id===t.categoryId)).forEach((a=>{a.topics.push(t)}))})),a.sort(this.sort).forEach((t=>t.topics.sort(this.sort))),a}}})),o={name:"Topics",data:()=>({containerOpen:!1}),computed:{isLoading:()=>!s.loaded,isEmpty(){return!(this.isLoading||this.topicData&&this.topicData.length)},topicData:()=>s.topicData,isAdmin:()=>m.models.teamInfo.get("team").userIsAdmin,categoryCount(){return"category-num-"+this.topicData.length}},mounted(){setTimeout((()=>this.toggleApp()),1),this.$e.listenTo(m,"globalEvent:key:P",this.toggleApp)},destroyed(){this.$e.stopListening(m,"globalEvent:key:P",this.toggleApp)},methods:{toggleApp(){this.containerOpen=!this.containerOpen,this.containerOpen?(m.trigger("notification:hide"),this.addListeners(),m.widgetManager.hideAppsExcept("#topics, #team-logo"),m.trigger("topics:open")):(m.widgetManager.showApps(),m.trigger("topics:closed"),this.removeListeners())},editInAccountSite(){m.commandManager.execute("window.account.open","/team/topics")},handleGlobalClick(t){this.$refs.topics&&!this.$refs.topics.contains(t.target)&&this.toggleApp()},addListeners(){this.$e.listenTo(m,"globalEvent:esc",this.toggleApp),this.$e.listenTo(m,"globalEvent:click",this.handleGlobalClick)},removeListeners(){this.$e.stopListening(m,"globalEvent:esc",this.toggleApp),this.$e.stopListening(m,"globalEvent:click",this.handleGlobalClick)},newTabForFileLink(t){m.utils.newTabForFileLink(t)},isUrlLocalFileLink:t=>m.utils.isUrlLocalFileLink(t)}};e(2523);var r=(0,e(1900).Z)(o,n,[],!1,null,"2135dafc",null);r.options.__file="source/addins-vue/topics/Topics.vue";const c=r.exports;m.widgetManager.handover("topics",null,{region:"top-center",order:"append",bootstrap:function(t){new i.Z({render:t=>t(c)}).$mount(t)}})},4525:(t,a,e)=>{"use strict";e.d(a,{Z:()=>c});var i=e(1238),n=e(1018),s=e(7366),o=e.n(s),r=e(2096);i.Z.use(n.Z,{name:"unreactive"}),i.Z.use(o()),i.Z.prototype.$e=r.Z,new i.Z({bb:()=>({conditionalFeatures:m.conditionalFeatures,teamInfo:m.models.teamInfo})}),i.Z.mixin({computed:{$plus:()=>m.conditionalFeatures.featureEnabled("plus"),$team:()=>m.conditionalFeatures.featureEnabled("team"),$admin:()=>m.models.teamInfo&&m.models.teamInfo.get("team")&&m.models.teamInfo.get("team").userIsAdmin}});const c=i.Z},185:(t,a,e)=>{(t.exports=e(7788)(!1)).push([t.id,"\n.app-container[data-v-2135dafc] { order: 3;\n}\n.app[data-v-2135dafc] { min-height: 100%; position: fixed; top: 0; right: 0; bottom: 0; left: 250px; z-index: 5; display: flex; flex-direction: column; border-radius: 0;\n}\n.app header[data-v-2135dafc] { margin: var(--app-padding); margin-bottom: calc(var(--app-padding) * 1.5); display: flex; align-items: center;\n}\n.back[data-v-2135dafc] {\n}\n.back[data-v-2135dafc]:after { --size: 36px; height: var(--size); width: var(--size);\n}\n.back .icon[data-v-2135dafc] { --size: 12px; height: var(--size); width: var(--size);\n}\n.app header h2[data-v-2135dafc] { margin: 0; padding: 0; display: inline-block; font-size: 1.9375rem; font-weight: 500;\n}\n.button-edit[data-v-2135dafc] { height: 40px; margin-bottom: -4px; margin-left: 1rem; padding: 0 19px 1px; display: inline-flex; align-items: center; opacity: 0.8; background: none !important; transition: all 0.1s ease;\n}\n.button-edit[data-v-2135dafc]:hover { opacity: 1; background: rgba(255,255,255,0.15) !important;\n}\n.light .button-edit[data-v-2135dafc]:hover { background: rgba(0,0,0,0.05) !important;\n}\n.button-edit[data-v-2135dafc]:hover:active { background: rgba(255,255,255,0.3) !important; transition-duration: 0s;\n}\n.light .button-edit[data-v-2135dafc]:hover:active { background: rgba(0,0,0,0.1) !important;\n}\n.edit-icon[data-v-2135dafc] { --size: 11px; height: var(--size); width: var(--size); margin-right: 7px; margin-left: -5px; margin-bottom: -1px; opacity: 0.45; fill: var(--icon-color);\n}\n.edit-label[data-v-2135dafc] { opacity: 0.8; color: var(--app-text-color); font-size: 0.8125rem;\n}\nheader .spacer[data-v-2135dafc] { flex-grow: 1;\n}\n\n\t\t/* Old close method */\n\t\t/*\n\t\t.close { padding: 15px 20px; position: absolute; top: 0; right: 0; cursor: pointer; opacity: 0.6; transition: opacity 0.15s ease; }\n\t\t\t.close:hover { opacity: 1; }\n\t\t*/\n.spacer[data-v-2135dafc] {\n}\n.spacer-top[data-v-2135dafc] { flex-grow: 1;\n}\n.spacer-bot[data-v-2135dafc] { flex-grow: 3.2;\n}\n.topics-main[data-v-2135dafc] { flex-grow: 1; display: flex; flex-direction: column; align-items: center; justify-content: center;\n}\n.categories[data-v-2135dafc] { --icon-height: 25px; --icon-width: 25px; width: 100%; padding: var(--app-padding); display: grid; grid-column-gap: 3rem; grid-row-gap: 3rem; grid-template-columns: repeat(3, minmax(150px, 1fr)); grid-auto-rows: max-content;\n}\n.category[data-v-2135dafc] { margin-bottom: 1rem; flex-grow: 0;\n}\n.category-header[data-v-2135dafc] { margin-bottom: 1rem; display: flex; align-items: center;\n}\n.category-icon[data-v-2135dafc] { max-height: var(--icon-height); width: var(--icon-width); margin-right: 0.75rem; opacity: 0.85; filter: invert(1);\n}\n.light .category-icon[data-v-2135dafc] { opacity: 0.73; filter: none;\n}\n.category-title[data-v-2135dafc] { min-height: var(--icon-height); opacity: 0.9; font-size: 1.3125rem; font-weight: 600; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;\n}\n.topic a[data-v-2135dafc] { margin: 0 -12px; padding: 7px 12px; display: block; color: hsla(0, 0%, 100%, 0.65); /*hsl(194, 16%, 64%);*/ transition: 0.1s ease; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;\n}\n.topic a[data-v-2135dafc]:hover { opacity: 0.8; text-decoration: underline;\n}\n.topic a[data-v-2135dafc]:active { opacity: 0.6;\n}\n.light .topic a[data-v-2135dafc] { color: hsl(194, 67%, 44%);\n}\n.category-num-1[data-v-2135dafc] { grid-template-columns: repeat(1, 50%);\n}\n.category-num-2[data-v-2135dafc] { grid-template-columns: repeat(2, 1fr);\n}\n.category-num-4[data-v-2135dafc] { grid-template-columns: repeat(2, 1fr); grid-template-rows: repeat(2, max-content);\n}\n.empty-state[data-v-2135dafc] { opacity: 0.45;\n}\n\n\n/* Animations */\n.swipe-left-enter-active[data-v-2135dafc], .swipe-left-leave-active[data-v-2135dafc] { transition: transform var(--a-show-full-duration) var(--a-show-full-curve), opacity var(--a-show-full-duration) var(--a-show-full-curve);\n}\n.swipe-left-enter[data-v-2135dafc], .swipe-left-leave-to[data-v-2135dafc] { opacity: 0; transform: translateX(1rem);\n}\n\n",""])},2523:(t,a,e)=>{var i=e(185);"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),(0,e(1372).Z)("5eb14bc8",i,!1,{ssrId:!0})},1372:(t,a,e)=>{"use strict";function i(t,a){for(var e=[],i={},n=0;n<a.length;n++){var s=a[n],o=s[0],r={id:t+":"+n,css:s[1],media:s[2],sourceMap:s[3]};i[o]?i[o].parts.push(r):e.push(i[o]={id:o,parts:[r]})}return e}e.d(a,{Z:()=>u});var n="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!n)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var s={},o=n&&(document.head||document.getElementsByTagName("head")[0]),r=null,c=0,l=!1,d=function(){},p=null,g="data-vue-ssr-id",h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function u(t,a,e,n){l=e,p=n||{};var o=i(t,a);return m(o),function(a){for(var e=[],n=0;n<o.length;n++){var r=o[n];(c=s[r.id]).refs--,e.push(c)}for(a?m(o=i(t,a)):o=[],n=0;n<e.length;n++){var c;if(0===(c=e[n]).refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete s[c.id]}}}}function m(t){for(var a=0;a<t.length;a++){var e=t[a],i=s[e.id];if(i){i.refs++;for(var n=0;n<i.parts.length;n++)i.parts[n](e.parts[n]);for(;n<e.parts.length;n++)i.parts.push(v(e.parts[n]));i.parts.length>e.parts.length&&(i.parts.length=e.parts.length)}else{var o=[];for(n=0;n<e.parts.length;n++)o.push(v(e.parts[n]));s[e.id]={id:e.id,refs:1,parts:o}}}}function f(){var t=document.createElement("style");return t.type="text/css",o.appendChild(t),t}function v(t){var a,e,i=document.querySelector("style["+g+'~="'+t.id+'"]');if(i){if(l)return d;i.parentNode.removeChild(i)}if(h){var n=c++;i=r||(r=f()),a=b.bind(null,i,n,!1),e=b.bind(null,i,n,!0)}else i=f(),a=x.bind(null,i),e=function(){i.parentNode.removeChild(i)};return a(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;a(t=i)}else e()}}var w,y=(w=[],function(t,a){return w[t]=a,w.filter(Boolean).join("\n")});function b(t,a,e,i){var n=e?"":i.css;if(t.styleSheet)t.styleSheet.cssText=y(a,n);else{var s=document.createTextNode(n),o=t.childNodes;o[a]&&t.removeChild(o[a]),o.length?t.insertBefore(s,o[a]):t.appendChild(s)}}function x(t,a){var e=a.css,i=a.media,n=a.sourceMap;if(i&&t.setAttribute("media",i),p.ssrId&&t.setAttribute(g,a.id),n&&(e+="\n/*# sourceURL="+n.sources[0]+" */",e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}}]);